1.格式化菜单
input:menuCollections[string]
output:menuObjects[{id:string,count:string},]
2.详细化菜单
input:menuObjects[{id:string,count:number},],loadAllItems()
output:menudetaleObjects[{id:string,name:string,count:number,price:number}]
3.计算小计
input:menudetaleObjects[{id:string,name:string,count:number,price:number}]
output:menudetaleSubtotalObjects[{id:string,name:string,count:number,price:number,subtotal:number}]
4.计算第一种优惠方式
input:menudetaleSubtotalObjects[{id:string,name:string,count:number,price:number,subtotal:number}],loadPromotions()
output:menuDiscountbjects{type:string,saveMoney:number}
5.计算第二种优惠方式
input:menudetaleSubtotalObjects[{id:string,name:string,count:number,price:number,subtotal:number,discountMenuName[string]},loadPromotions()
output:menuDiscountbjects{type:string,saveMoney:number}
6.计算最终优惠
input:menudetaleSubtotalObjects[{id:string,name:string,count:number,price:number,subtotal:number}],loadPromotions()
output:menuDiscountbjects{type:string,saveMoney:number}
7.计算总价
input:menudetaleSubtotalObjects[{id:string,name:string,count:number,price:number,subtotal:number}],menuDiscountbjects{type:string,saveMoney:number}
output:sum:number